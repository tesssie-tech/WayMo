<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping Cart - Waymo</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üçî</text></svg>">
    <link rel="stylesheet" href="Waymo.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <div class="logo" style="font-size: 1.6em; font-weight: bold;">
            <i class="fas fa-burger" style="margin-right: 8px; color: var(--c1);"></i><span style="color: var(--c1);">Way</span><span style="color: var(--c2);">Mo</span>
        </div>
        <header>
            <h1>My Cart</h1>
        </header>

        <main>
            <div class="cart-container">
            <h2>Shopping Cart</h2>
            
            <div id="cart-items" class="cart-items">
                <!-- Cart items will be populated here by JavaScript -->
            </div>

            <div id="empty-cart" class="empty-cart">
                <p>Your cart is empty</p>
                <a href="menu.html" class="btn">Continue Shopping</a>
            </div>

            <div id="cart-summary" class="cart-summary" style="display: none;">
                <div class="summary-row">
                    <span>Subtotal:</span>
                    <span id="subtotal">‚Ç¶0.00</span>
                </div>
                <div class="summary-row">
                    <span>Tax:</span>
                    <span id="tax">‚Ç¶0.00</span>
                </div>
                <div class="summary-row" id="discount-row" style="display: none; color: var(--c2);">
                    <span>Discount:</span>
                    <span id="discount-amount">-‚Ç¶0.00</span>
                </div>
                <div class="discount-input-group" style="display: flex; gap: 10px; margin-bottom: 15px; margin-top: 15px;">
                    <input type="text" id="discount-code" placeholder="Promo Code" style="padding: 8px; font-size: 0.9em; flex: 1; border: 1px solid var(--c4); border-radius: 4px; background: transparent; color: var(--c1);">
                    <button id="apply-discount-btn" class="btn-small" style="border-radius: 4px;">Apply</button>
                </div>
                <div class="summary-row total">
                    <span>Total:</span>
                    <span id="total">‚Ç¶0.00</span>
                </div>
                <div class="cart-actions">
                    <button id="checkout-btn" class="btn btn-primary">Checkout</button>
                    <a href="menu.html" class="btn btn-secondary">Shop</a>
                    <button id="clear-cart-btn" class="btn" style="background: #ff4444; color: white;">Clear</button>
                </div>
            </div>
            </div>
        </main>

        <nav class="bottom-nav" role="navigation" aria-label="Bottom navigation">
            <button class="nav-item" data-view="home" aria-label="Home">
                <i class="fas fa-home icon"></i>
                <span class="label">Home</span>
            </button>
            <button class="nav-item" data-view="menu" aria-label="Menu">
                <i class="fas fa-utensils icon"></i>
                <span class="label">Menu</span>
            </button>
            <button class="nav-item active" data-view="cart" aria-label="Cart">
                <i class="fas fa-shopping-cart icon"></i>
                <span class="cart-badge" style="display: none;">0</span>
                <span class="label">Cart</span>
            </button>
            <button class="nav-item" data-view="profile" aria-label="Profile">
                <i class="fas fa-user icon"></i>
                <span class="label">Profile</span>
            </button>
            <button class="nav-item" data-view="contact" aria-label="Contact">
                <i class="fas fa-headset icon"></i>
                <span class="label">Contact</span>
            </button>
        </nav>
    </div>

    <!-- Location Modal -->
    <div id="location-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal" data-modal="location-modal">&times;</span>
            <div class="modal-header">
                <h2>Delivery Location</h2>
            </div>
            <div class="modal-body">
                <div id="checkout-saved-addresses" style="display: none; gap: 10px; overflow-x: auto; padding-bottom: 10px; margin-bottom: 15px; border-bottom: 1px solid rgba(255,255,255,0.1);">
                    <!-- Saved addresses injected here -->
                </div>
                <div class="form-group">
                    <label for="delivery-address">Address</label>
                    <input type="text" id="delivery-address" placeholder="123 Main St, Apt 4B" style="width: 100%;">
                </div>
                <div class="form-group">
                    <label>Save Location As</label>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn-small active" style="flex:1;">Home</button>
                        <button class="btn-small" style="flex:1;">Work</button>
                        <button class="btn-small" style="flex:1;">Other</button>
                    </div>
                </div>
                <div class="form-group">
                    <label>Delivery Time</label>
                    <div style="display: flex; gap: 10px; margin-bottom: 10px;">
                        <button class="btn-small active" id="delivery-now-btn" style="flex:1;">Now</button>
                        <button class="btn-small" id="delivery-schedule-btn" style="flex:1;">Schedule</button>
                    </div>
                    <div id="schedule-time-container" style="display: none;">
                        <input type="datetime-local" id="delivery-time" style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid var(--c4); background: transparent; color: var(--c1);">
                    </div>
                </div>
                <div class="form-group">
                    <label for="delivery-instructions">Delivery Instructions</label>
                    <textarea id="delivery-instructions" rows="3" placeholder="Gate code, leave at door, etc."></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button id="to-payment-btn" class="btn-primary" style="width: 100%; padding: 12px; border:none; border-radius:8px; background:var(--c2); color:white; font-weight:bold; cursor:pointer;">Proceed to Payment</button>
            </div>
        </div>
    </div>

    <!-- Payment Modal -->
    <div id="payment-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal" data-modal="payment-modal">&times;</span>
            <div class="modal-header">
                <h2>Payment Method</h2>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Select Method</label>
                    <div style="display: flex; gap: 10px; margin-bottom: 15px;">
                        <button class="btn-small active" style="flex:1;">Card</button>
                        <button class="btn-small" style="flex:1;">Cash</button>
                        <button class="btn-small" style="flex:1;">Apple Pay</button>
                    </div>
                </div>
                <div class="form-group">
                    <label for="card-number">Card Number</label>
                    <input type="text" id="card-number" placeholder="0000 0000 0000 0000" style="width: 100%;">
                </div>
                <div style="display: flex; gap: 10px;">
                    <div class="form-group" style="flex: 1;">
                        <label for="card-expiry">Expiry</label>
                        <input type="text" id="card-expiry" placeholder="MM/YY" style="width: 100%;">
                    </div>
                    <div class="form-group" style="flex: 1;">
                        <label for="card-cvc">CVC</label>
                        <input type="text" id="card-cvc" placeholder="123" style="width: 100%;">
                    </div>
                </div>
                <div class="form-group" style="margin-top: 15px; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 15px;">
                    <label>Tip Driver</label>
                    <div style="display: flex; gap: 10px; margin-bottom: 10px;">
                        <button class="btn-small tip-btn" data-percent="0.10">10%</button>
                        <button class="btn-small tip-btn" data-percent="0.15">15%</button>
                        <button class="btn-small tip-btn" data-percent="0.20">20%</button>
                        <input type="number" id="custom-tip" placeholder="Custom" style="width: 80px; padding: 8px; border-radius: 20px; border: 1px solid var(--c2); background: transparent; color: var(--c1); text-align: center;">
                    </div>
                    <div style="display: flex; justify-content: space-between; font-weight: bold; margin-top: 10px;">
                        <span>Tip:</span>
                        <span id="payment-tip-amount">‚Ç¶0.00</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; font-weight: bold; font-size: 1.2em; color: var(--c2); margin-top: 5px;">
                        <span>Total to Pay:</span>
                        <span id="payment-final-total">‚Ç¶0.00</span>
                    </div>
                </div>
                <div class="form-group" style="margin-top: 15px; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 15px;">
                    <label>Split Bill</label>
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <span style="color: #ccc;">People:</span>
                            <input type="number" id="split-count" value="1" min="1" style="width: 60px; padding: 8px; border-radius: 8px; border: 1px solid var(--c4); background: transparent; color: var(--c1); text-align: center;">
                        </div>
                        <div style="text-align: right;">
                            <span style="color: #ccc; font-size: 0.9em;">Per Person</span>
                            <div id="split-per-person" style="color: var(--c2); font-weight: bold; font-size: 1.1em;">‚Ç¶0.00</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="confirm-payment-btn" class="btn-primary" style="width: 100%; padding: 12px; border:none; border-radius:8px; background:var(--c2); color:white; font-weight:bold; cursor:pointer;">Pay Now</button>
            </div>
        </div>
    </div>

    <!-- Confirmation Modal -->
    <div id="confirmation-modal" class="modal">
        <div class="modal-content" style="text-align: center;">
            <div class="modal-header">
                <div style="font-size: 3em; margin-bottom: 10px; color: var(--c1);"><i class="fas fa-check-circle"></i></div>
                <h2>Order Confirmed!</h2>
            </div>
            <div class="modal-body">
                <p style="color: var(--c1); margin-bottom: 10px;">Your order has been placed successfully.</p>
                <p style="color: var(--c3);">Estimated delivery time: <strong>30-45 mins</strong></p>
            </div>
            <div class="modal-footer">
                <button id="close-confirmation-btn" class="btn-primary" style="width: 100%; padding: 12px; border:none; border-radius:8px; background:var(--c2); color:white; font-weight:bold; cursor:pointer;">Back to Home</button>
            </div>
        </div>
    </div>

    <script src="waymo.js"></script>
</body>
</html>
